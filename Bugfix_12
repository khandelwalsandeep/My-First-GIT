Bug fixes for issue-12

Master Changes